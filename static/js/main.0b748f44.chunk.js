(this["webpackJsonpreact-interactive-paycard"]=this["webpackJsonpreact-interactive-paycard"]||[]).push([[0],{17:function(e,a,t){e.exports=t(26)},22:function(e,a,t){},23:function(e,a,t){},26:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(7),l=t.n(n),d=(t(22),t(4)),m=t(5),s=t(12),i=t(9),u=t(10),o=t(14),p=t(13),f=function(e){Object(o.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(i.a)(this,t),(r=a.call(this,e)).updateMainState=function(e,a){r.props.onUpdateStateValue({name:e,value:a})},r.handleFormChange=function(e){var a=e.target,t=a.name,c=a.value;r.setState(Object(d.a)({},t,c)),r.updateMainState(t,c)},r.replaceMissingChars=function(e){var a="#### #### #### ####";a=a.split("");var t=e.split(""),r=[];return a.forEach((function(e,a){t[a]?r.push(t[a]):r.push(e)})),r.join("")},r.onCardNumberChange=function(e){var a=e.target,t=a.value,c=a.name,n=t;t=t.replace(/\D/g,""),/^3[47]\d{0,13}$/.test(t)||/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(t)?n=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "):/^\d{0,16}$/.test(t)&&(n=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 ")),r.setState(Object(d.a)({},c,n.trimRight())),r.updateMainState(c,n)},r.onCvvFocus=function(e){r.updateMainState("isCardFlipped",!0)},r.onCvvBlur=function(e){r.updateMainState("isCardFlipped",!1)};var c=(new Date).getFullYear();return r.state={cardNumber:"",cardMonth:"",cardYear:"",monthsArr:Array.from(new Array(12),(function(e,a){var t=a+1;return t<=9?"0"+t:t})),yearsArr:Array.from(new Array(9),(function(e,a){return c+a}))},r}return Object(u.a)(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.props.cardNumberRef.current.selectionStart}},{key:"componentDidUpdate",value:function(e,a,t){var r=this.props.cardNumberRef.current,c=this.state.cardNumber,n=a.cardNumber;c.length>n.length&&" "===c[t-1]?t+=1:" "===n[t-1]&&(t-=1),r.selectionStart=r.selectionEnd=t}},{key:"render",value:function(){var e=this.state,a=e.cardMonth,t=e.cardYear,r=e.monthsArr,n=e.yearsArr,l=this.props,d=l.cardNumberRef,m=l.cardHolderRef,s=l.cardDateRef,i=l.cardCvvRef,u=l.onCardInputFocus,o=l.onCardInputBlur;return c.a.createElement("div",{className:"card-form"},c.a.createElement("div",{className:"card-list"},this.props.children),c.a.createElement("div",{className:"card-form__inner"},c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardNumber",className:"card-input__label"},"Card Number"),c.a.createElement("input",{type:"tel",name:"cardNumber",className:"card-input__input",autoComplete:"off",onChange:this.onCardNumberChange,maxLength:"19",ref:d,onFocus:function(e){return u(e,"cardNumber")},onBlur:o,value:this.state.cardNumber})),c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardName",className:"card-input__label"},"Card Holder"),c.a.createElement("input",{type:"text",className:"card-input__input",autoComplete:"off",name:"cardHolder",onChange:this.handleFormChange,ref:m,onFocus:function(e){return u(e,"cardHolder")},onBlur:o})),c.a.createElement("div",{className:"card-form__row"},c.a.createElement("div",{className:"card-form__col"},c.a.createElement("div",{className:"card-form__group"},c.a.createElement("label",{htmlFor:"cardMonth",className:"card-input__label"},"Expiration Date"),c.a.createElement("select",{className:"card-input__input -select",value:a,name:"cardMonth",onChange:this.handleFormChange,ref:s,onFocus:function(e){return u(e,"cardDate")},onBlur:o},c.a.createElement("option",{value:"",disabled:!0},"Month"),r.map((function(e,a){return c.a.createElement("option",{key:a,value:e},e)}))),c.a.createElement("select",{name:"cardYear",className:"card-input__input -select",value:t,onChange:this.handleFormChange,onFocus:function(e){return u(e,"cardDate")},onBlur:o},c.a.createElement("option",{value:"",disabled:!0},"Year"),n.map((function(e,a){return c.a.createElement("option",{key:a,value:e},e)}))))),c.a.createElement("div",{className:"card-form__col -cvv"},c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardCvv",className:"card-input__label"},"CVV"),c.a.createElement("input",{type:"tel",className:"card-input__input",maxLength:"4",autoComplete:"off",name:"cardCvv",onChange:this.handleFormChange,onFocus:this.onCvvFocus,onBlur:this.onCvvBlur,ref:i}))))))}}]),t}(r.Component),v=t(30),E=t(29),N=t(28),h=(t(23),{visa:"^4",amex:"^(34|37)",mastercard:"^5[1-5]",discover:"^6011",unionpay:"^62",troy:"^9792"}),_=function(e){Object(o.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(i.a)(this,t),(e=a.call(this)).cardType=function(){for(var a,t=e.props.cardNumber,r=0,c=Object.entries(h);r<c.length;r++){var n=Object(s.a)(c[r],2),l=n[0],d=n[1];if(a=new RegExp(d),null!=t.match(a))return l}return"visa"},e.cardBackgroundName=function(){var e=Math.floor(25*Math.random()+1);return"".concat(e,".jpeg")},e.removeEmptySpaces=function(e){return e.replace(/\s+/g,"")},e.shouldMaskNumber=function(e,a){return 15===e.length?a>4&&a<12:a>4&&a<13},e.outlineElementStyle=function(e){return e?{width:"".concat(e.offsetWidth,"px"),height:"".concat(e.offsetHeight,"px"),transform:"translateX(".concat(e.offsetLeft,"px) translateY(").concat(e.offsetTop,"px)")}:null};var r=e.cardBackgroundName();return e.state={style:{},counter:0,backgroundImgname:r},e}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var a=this.props.currentFocusedElm;if(a&&a!==e.currentFocusedElm){var t=this.outlineElementStyle(a);this.setState({style:t})}}},{key:"maskCardNumber",value:function(e){var a=e.split("");return a.forEach((function(e,t){t>4&&t<14&&" "!==a[t]&&(a[t]="*")})),a}},{key:"render",value:function(){var e=this.props,a=e.cardHolder,t=e.cardNumber,r=e.cardMonth,n=e.cardYear,l=e.cardCvv,d=e.isCardFlipped,m=e.currentFocusedElm,s=e.onCardElementClick,i=e.cardNumberRef,u=e.cardHolderRef,o=e.cardDateRef,p=a.split(""),f=this.maskCardNumber(t);return l=l.split(""),c.a.createElement("div",{className:"card-item "+(d?"-active":"")},c.a.createElement("div",{className:"card-item__side -front"},c.a.createElement("div",{className:"card-item__focus ".concat(m?"-active":""),style:this.state.style}),c.a.createElement("div",{className:"card-item__cover"},c.a.createElement("img",{alt:"",src:"."+"/card-background/".concat(this.state.backgroundImgname),className:"card-item__bg"})),c.a.createElement("div",{className:"card-item__wrapper"},c.a.createElement("div",{className:"card-item__top"},c.a.createElement("img",{src:"./chip.png",alt:"",className:"card-item__chip"}),c.a.createElement("div",{className:"card-item__type"},c.a.createElement("img",{alt:this.cardType(),src:"."+"/card-type/".concat(this.cardType(),".png"),className:"card-item__typeImg"}))),c.a.createElement("label",{className:"card-item__number",ref:i,onClick:function(){return s("cardNumber")}},c.a.createElement(v.a,{className:"slide-fade-up",component:"div"},t?f.map((function(e,a){return c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250,key:a},c.a.createElement("div",{className:"card-item__numberItem"},e))})):c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250},c.a.createElement("div",{className:"card-item__numberItem"},"#")))),c.a.createElement("div",{className:"card-item__content"},c.a.createElement("label",{className:"card-item__info",onClick:function(){return s("cardHolder")},ref:u},c.a.createElement("div",{className:"card-item__holder"},"Card Holder"),c.a.createElement("div",{className:"card-item__name"},c.a.createElement(v.a,{className:"slide-fade-up",component:"div"},"FULL NAME"===a?c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250},c.a.createElement("div",null,"FULL NAME")):p.map((function(e,a){return c.a.createElement(E.a,{timeout:250,classNames:"slide-fade-right",key:a},c.a.createElement("span",{className:"card-item__nameItem"},e))}))))),c.a.createElement("div",{className:"card-item__date",onClick:function(){return s("cardDate")},ref:o},c.a.createElement("label",{className:"card-item__dateTitle"},"Expires"),c.a.createElement("label",{className:"card-item__dateItem"},c.a.createElement(N.a,{"in-out":!0},r?c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250,key:r},c.a.createElement("span",null,r)):c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250,key:r},c.a.createElement("span",null,"MM")))),"/",c.a.createElement("label",{htmlFor:"cardYear",className:"card-item__dateItem"},c.a.createElement(N.a,{"out-in":!0},n?c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250,key:n},c.a.createElement("span",null,n.toString().substr(-2))):c.a.createElement(E.a,{classNames:"slide-fade-up",timeout:250,key:n},c.a.createElement("span",null,"YY")))))))),c.a.createElement("div",{className:"card-item__side -back"},c.a.createElement("div",{className:"card-item__cover"},c.a.createElement("img",{alt:"",src:"."+"/card-background/".concat(this.state.backgroundImgname),className:"card-item__bg"})),c.a.createElement("div",{className:"card-item__band"}),c.a.createElement("div",{className:"card-item__cvv"},c.a.createElement("div",{className:"card-item__cvvTitle"},"CVV"),c.a.createElement("div",{className:"card-item__cvvBand"},l.map((function(e,a){return c.a.createElement("span",{key:a},"*")}))),c.a.createElement("div",{className:"card-item__type"},c.a.createElement("img",{alt:"card-type",src:"./card-type/visa.png",className:"card-item__typeImg"})))))}}]),t}(r.Component),b=function(){var e={cardNumber:"#### #### #### ####",cardHolder:"FULL NAME",cardMonth:"",cardYear:"",cardCvv:"",isCardFlipped:!1,currentFocusedElm:null},a=Object(r.useState)(e),t=Object(s.a)(a,2),n=t[0],l=t[1],i=n.cardNumber,u=n.cardHolder,o=n.cardMonth,p=n.cardYear,v=n.cardCvv,E=n.isCardFlipped,N=n.currentFocusedElm,h={cardNumber:Object(r.useRef)(),cardHolder:Object(r.useRef)(),cardDate:Object(r.useRef)(),cardCvv:Object(r.useRef)()},b=function(e){h[e].current.focus()},g={cardNumber:null,cardHolder:null,cardDate:null};return c.a.createElement("div",{className:"wrapper"},c.a.createElement(f,{onUpdateStateValue:function(a){var t=a.name,r=a.value;l(Object(m.a)(Object(m.a)({},n),{},Object(d.a)({},t,r||e[t])))},cardNumberRef:h.cardNumber,cardHolderRef:h.cardHolder,cardDateRef:h.cardDate,onCardInputFocus:function(e,a){l(Object(m.a)(Object(m.a)({},n),{},{currentFocusedElm:g[a]}))},onCardInputBlur:function(e){l(Object(m.a)(Object(m.a)({},n),{},{currentFocusedElm:null}))}},c.a.createElement(_,{cardNumber:i,cardHolder:u,cardMonth:o,cardYear:p,cardCvv:v,isCardFlipped:E,currentFocusedElm:N,onCardElementClick:function(e){b(e)},cardNumberRef:function(e){return g.cardNumber=e},cardHolderRef:function(e){return g.cardHolder=e},cardDateRef:function(e){return g.cardDate=e}})))};var g=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(b,null))};l.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0b748f44.chunk.js.map